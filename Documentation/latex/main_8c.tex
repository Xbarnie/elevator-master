\hypertarget{main_8c}{}\doxysection{C\+:/\+Users/\+Dell/git/semestralka/elevator\+\_\+local/source/main.c File Reference}
\label{main_8c}\index{C:/Users/Dell/git/semestralka/elevator\_local/source/main.c@{C:/Users/Dell/git/semestralka/elevator\_local/source/main.c}}
{\ttfamily \#include \char`\"{}fsl\+\_\+debug\+\_\+console.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}fsl\+\_\+i2c.\+h\char`\"{}}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include \char`\"{}fsl\+\_\+device\+\_\+registers.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Driver\+\_\+\+I2\+C.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}fsl\+\_\+i2c\+\_\+cmsis.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}pin\+\_\+mux.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}fsl\+\_\+gpio.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}fsl\+\_\+port.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}math.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}serial.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}fsl\+\_\+lpsci.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}fsl\+\_\+lpsci\+\_\+dma.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}clock\+\_\+config.\+h\char`\"{}}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{main_8c_ace220f4037e9c5509e984a32102db6f2}{L\+P\+S\+C\+I\+\_\+\+User\+Callback}} (U\+A\+R\+T0\+\_\+\+Type $\ast$base, lpsci\+\_\+dma\+\_\+handle\+\_\+t $\ast$handle, status\+\_\+t status, void $\ast$user\+Data)
\item 
static void \mbox{\hyperlink{main_8c_a7f7816383300ac6172b76349792d6dde}{i2c\+\_\+release\+\_\+bus\+\_\+delay}} (void)
\item 
void \mbox{\hyperlink{main_8c_aeec2463e79fd96c47f3b88f7b8417760}{B\+O\+A\+R\+D\+\_\+\+I2\+C\+\_\+\+Release\+Bus}} (void)
\item 
void \mbox{\hyperlink{main_8c_acec4214cddc4753d183cc092cd76d35b}{L\+P\+S\+I\+\_\+conf}} ()
\item 
void \mbox{\hyperlink{main_8c_ae1926945483bcda7f88757caf7166c73}{send\+Packet}} (char address, char size, char data)
\item 
void \mbox{\hyperlink{main_8c_ad2a81af0c10a6969a27ee19010276e13}{send\+Ack}} (char address)
\item 
void \mbox{\hyperlink{main_8c_a3d2db5d9dffcd8d8cf33dfcff928ebd6}{elevator\+Speed}} (int32\+\_\+t data)
\item 
void \mbox{\hyperlink{main_8c_acd6d05ae41864fc2a7e228f225bfbbb3}{serial\+Conf}} ()
\item 
int \mbox{\hyperlink{main_8c_a840291bc02cba5474a4cb46a9b9566fe}{main}} (void)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
uint8\+\_\+t \mbox{\hyperlink{main_8c_adc1f3aa1a203f05abc53cb769ccf0744}{txbuff}} \mbox{[}$\,$\mbox{]} = \char`\"{}L\+P\+S\+CI polling example\textbackslash{}r\textbackslash{}n\+Send back received data\textbackslash{}r\textbackslash{}n\char`\"{}
\item 
uint8\+\_\+t \mbox{\hyperlink{main_8c_ad9ce09c85841fcb54bd459f59d1d0619}{rxbuff}} \mbox{[}20\mbox{]} = \{0\}
\item 
lpsci\+\_\+dma\+\_\+handle\+\_\+t \mbox{\hyperlink{main_8c_a6a7631917d1570eb9b27ad1fc9d5083b}{g\+\_\+lpsci\+Dma\+Handle}}
\item 
dma\+\_\+handle\+\_\+t \mbox{\hyperlink{main_8c_a33a6096a069a8cb18758069b5deb8b56}{g\+\_\+lpsci\+Tx\+Dma\+Handle}}
\item 
dma\+\_\+handle\+\_\+t \mbox{\hyperlink{main_8c_acd2b181b91a1f8a3261f331614672ae2}{g\+\_\+lpsci\+Rx\+Dma\+Handle}}
\item 
uint8\+\_\+t \mbox{\hyperlink{main_8c_a161378aaeb0f4a203555450ea8942b0b}{g\+\_\+tip\+String}} \mbox{[}$\,$\mbox{]}
\item 
uint8\+\_\+t \mbox{\hyperlink{main_8c_a77fd138e8415e35d5ae93106f73be09a}{g\+\_\+tx\+Buffer}} \mbox{[}\mbox{\hyperlink{serial_8h_add269ec1ba84ec6096fc9e052b18b782}{E\+C\+H\+O\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+L\+E\+N\+G\+TH}}\mbox{]} = \{ 0 \}
\item 
uint8\+\_\+t \mbox{\hyperlink{main_8c_aeeb3f09248715c13b643028bb1d483dc}{g\+\_\+rx\+Buffer}} \mbox{[}\mbox{\hyperlink{serial_8h_add269ec1ba84ec6096fc9e052b18b782}{E\+C\+H\+O\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+L\+E\+N\+G\+TH}}\mbox{]} = \{ 0 \}
\item 
volatile bool \mbox{\hyperlink{main_8c_ad8b193a4e03fa0a07562d49aa3615c28}{rx\+Buffer\+Empty}} = true
\item 
volatile bool \mbox{\hyperlink{main_8c_ace6ef749f5940517cc0931d92909f4f7}{tx\+Buffer\+Full}} = false
\item 
volatile bool \mbox{\hyperlink{main_8c_a1ec176ffd2054bb089d085f8e107848b}{tx\+On\+Going}} = false
\item 
volatile bool \mbox{\hyperlink{main_8c_ae9df74e239fa2a8a0bc8face7012badd}{rx\+On\+Going}} = false
\item 
lpsci\+\_\+transfer\+\_\+t \mbox{\hyperlink{main_8c_ae9abb53057085267cb18c64610b95b6e}{xfer}}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{main_8c_aeec2463e79fd96c47f3b88f7b8417760}\label{main_8c_aeec2463e79fd96c47f3b88f7b8417760}} 
\index{main.c@{main.c}!BOARD\_I2C\_ReleaseBus@{BOARD\_I2C\_ReleaseBus}}
\index{BOARD\_I2C\_ReleaseBus@{BOARD\_I2C\_ReleaseBus}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{BOARD\_I2C\_ReleaseBus()}{BOARD\_I2C\_ReleaseBus()}}
{\footnotesize\ttfamily void B\+O\+A\+R\+D\+\_\+\+I2\+C\+\_\+\+Release\+Bus (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{main_8c_a3d2db5d9dffcd8d8cf33dfcff928ebd6}\label{main_8c_a3d2db5d9dffcd8d8cf33dfcff928ebd6}} 
\index{main.c@{main.c}!elevatorSpeed@{elevatorSpeed}}
\index{elevatorSpeed@{elevatorSpeed}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{elevatorSpeed()}{elevatorSpeed()}}
{\footnotesize\ttfamily void elevator\+Speed (\begin{DoxyParamCaption}\item[{int32\+\_\+t}]{data }\end{DoxyParamCaption})}


\begin{DoxyParams}{Parameters}
{\em data} & je požadovaná rychlost výtahu \\
\hline
\end{DoxyParams}
\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000004}{Todo}}]Nastav rychlost výtahu na požadovanou hodnotu todo \end{DoxyRefDesc}
\mbox{\Hypertarget{main_8c_a7f7816383300ac6172b76349792d6dde}\label{main_8c_a7f7816383300ac6172b76349792d6dde}} 
\index{main.c@{main.c}!i2c\_release\_bus\_delay@{i2c\_release\_bus\_delay}}
\index{i2c\_release\_bus\_delay@{i2c\_release\_bus\_delay}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{i2c\_release\_bus\_delay()}{i2c\_release\_bus\_delay()}}
{\footnotesize\ttfamily static void i2c\+\_\+release\+\_\+bus\+\_\+delay (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{main_8c_ace220f4037e9c5509e984a32102db6f2}\label{main_8c_ace220f4037e9c5509e984a32102db6f2}} 
\index{main.c@{main.c}!LPSCI\_UserCallback@{LPSCI\_UserCallback}}
\index{LPSCI\_UserCallback@{LPSCI\_UserCallback}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{LPSCI\_UserCallback()}{LPSCI\_UserCallback()}}
{\footnotesize\ttfamily void L\+P\+S\+C\+I\+\_\+\+User\+Callback (\begin{DoxyParamCaption}\item[{U\+A\+R\+T0\+\_\+\+Type $\ast$}]{base,  }\item[{lpsci\+\_\+dma\+\_\+handle\+\_\+t $\ast$}]{handle,  }\item[{status\+\_\+t}]{status,  }\item[{void $\ast$}]{user\+Data }\end{DoxyParamCaption})}

\mbox{\Hypertarget{main_8c_acec4214cddc4753d183cc092cd76d35b}\label{main_8c_acec4214cddc4753d183cc092cd76d35b}} 
\index{main.c@{main.c}!LPSI\_conf@{LPSI\_conf}}
\index{LPSI\_conf@{LPSI\_conf}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{LPSI\_conf()}{LPSI\_conf()}}
{\footnotesize\ttfamily void L\+P\+S\+I\+\_\+conf (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000001}{Todo}}]Konfiguruj L\+P\+S\+CI přenos todo\end{DoxyRefDesc}
\mbox{\Hypertarget{main_8c_a840291bc02cba5474a4cb46a9b9566fe}\label{main_8c_a840291bc02cba5474a4cb46a9b9566fe}} 
\index{main.c@{main.c}!main@{main}}
\index{main@{main}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{main_8c_ad2a81af0c10a6969a27ee19010276e13}\label{main_8c_ad2a81af0c10a6969a27ee19010276e13}} 
\index{main.c@{main.c}!sendAck@{sendAck}}
\index{sendAck@{sendAck}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{sendAck()}{sendAck()}}
{\footnotesize\ttfamily void send\+Ack (\begin{DoxyParamCaption}\item[{char}]{address }\end{DoxyParamCaption})}


\begin{DoxyParams}{Parameters}
{\em address} & je adresa na kterou posílám potvrzovací packet A\+CK \\
\hline
\end{DoxyParams}
\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000003}{Todo}}]Odešli potvrzovací packet na zadanou adresu todo \end{DoxyRefDesc}
\mbox{\Hypertarget{main_8c_ae1926945483bcda7f88757caf7166c73}\label{main_8c_ae1926945483bcda7f88757caf7166c73}} 
\index{main.c@{main.c}!sendPacket@{sendPacket}}
\index{sendPacket@{sendPacket}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{sendPacket()}{sendPacket()}}
{\footnotesize\ttfamily void send\+Packet (\begin{DoxyParamCaption}\item[{char}]{address,  }\item[{char}]{size,  }\item[{char}]{data }\end{DoxyParamCaption})}


\begin{DoxyParams}{Parameters}
{\em address} & je adresa kam chci packet odeslat \\
\hline
{\em size} & je velikost dat \\
\hline
{\em data} & je obsah zprávy \\
\hline
\end{DoxyParams}
\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000002}{Todo}}]Odešli packet zadané velikosti na danou adresu\end{DoxyRefDesc}
\mbox{\Hypertarget{main_8c_acd6d05ae41864fc2a7e228f225bfbbb3}\label{main_8c_acd6d05ae41864fc2a7e228f225bfbbb3}} 
\index{main.c@{main.c}!serialConf@{serialConf}}
\index{serialConf@{serialConf}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{serialConf()}{serialConf()}}
{\footnotesize\ttfamily void serial\+Conf (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000005}{Todo}}]Konfiguruj sériovou komunikaci todo\end{DoxyRefDesc}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{main_8c_a6a7631917d1570eb9b27ad1fc9d5083b}\label{main_8c_a6a7631917d1570eb9b27ad1fc9d5083b}} 
\index{main.c@{main.c}!g\_lpsciDmaHandle@{g\_lpsciDmaHandle}}
\index{g\_lpsciDmaHandle@{g\_lpsciDmaHandle}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{g\_lpsciDmaHandle}{g\_lpsciDmaHandle}}
{\footnotesize\ttfamily lpsci\+\_\+dma\+\_\+handle\+\_\+t g\+\_\+lpsci\+Dma\+Handle}

\mbox{\Hypertarget{main_8c_acd2b181b91a1f8a3261f331614672ae2}\label{main_8c_acd2b181b91a1f8a3261f331614672ae2}} 
\index{main.c@{main.c}!g\_lpsciRxDmaHandle@{g\_lpsciRxDmaHandle}}
\index{g\_lpsciRxDmaHandle@{g\_lpsciRxDmaHandle}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{g\_lpsciRxDmaHandle}{g\_lpsciRxDmaHandle}}
{\footnotesize\ttfamily dma\+\_\+handle\+\_\+t g\+\_\+lpsci\+Rx\+Dma\+Handle}

\mbox{\Hypertarget{main_8c_a33a6096a069a8cb18758069b5deb8b56}\label{main_8c_a33a6096a069a8cb18758069b5deb8b56}} 
\index{main.c@{main.c}!g\_lpsciTxDmaHandle@{g\_lpsciTxDmaHandle}}
\index{g\_lpsciTxDmaHandle@{g\_lpsciTxDmaHandle}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{g\_lpsciTxDmaHandle}{g\_lpsciTxDmaHandle}}
{\footnotesize\ttfamily dma\+\_\+handle\+\_\+t g\+\_\+lpsci\+Tx\+Dma\+Handle}

\mbox{\Hypertarget{main_8c_aeeb3f09248715c13b643028bb1d483dc}\label{main_8c_aeeb3f09248715c13b643028bb1d483dc}} 
\index{main.c@{main.c}!g\_rxBuffer@{g\_rxBuffer}}
\index{g\_rxBuffer@{g\_rxBuffer}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{g\_rxBuffer}{g\_rxBuffer}}
{\footnotesize\ttfamily uint8\+\_\+t g\+\_\+rx\+Buffer\mbox{[}\mbox{\hyperlink{serial_8h_add269ec1ba84ec6096fc9e052b18b782}{E\+C\+H\+O\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+L\+E\+N\+G\+TH}}\mbox{]} = \{ 0 \}}

\mbox{\Hypertarget{main_8c_a161378aaeb0f4a203555450ea8942b0b}\label{main_8c_a161378aaeb0f4a203555450ea8942b0b}} 
\index{main.c@{main.c}!g\_tipString@{g\_tipString}}
\index{g\_tipString@{g\_tipString}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{g\_tipString}{g\_tipString}}
{\footnotesize\ttfamily uint8\+\_\+t g\+\_\+tip\+String\mbox{[}$\,$\mbox{]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=}
\DoxyCodeLine{        \textcolor{stringliteral}{"LPSCI DMA example\(\backslash\)r\(\backslash\)nSend back received data\(\backslash\)r\(\backslash\)nEcho every 8 characters\(\backslash\)r\(\backslash\)n"}}

\end{DoxyCode}
\mbox{\Hypertarget{main_8c_a77fd138e8415e35d5ae93106f73be09a}\label{main_8c_a77fd138e8415e35d5ae93106f73be09a}} 
\index{main.c@{main.c}!g\_txBuffer@{g\_txBuffer}}
\index{g\_txBuffer@{g\_txBuffer}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{g\_txBuffer}{g\_txBuffer}}
{\footnotesize\ttfamily uint8\+\_\+t g\+\_\+tx\+Buffer\mbox{[}\mbox{\hyperlink{serial_8h_add269ec1ba84ec6096fc9e052b18b782}{E\+C\+H\+O\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+L\+E\+N\+G\+TH}}\mbox{]} = \{ 0 \}}

\mbox{\Hypertarget{main_8c_ad9ce09c85841fcb54bd459f59d1d0619}\label{main_8c_ad9ce09c85841fcb54bd459f59d1d0619}} 
\index{main.c@{main.c}!rxbuff@{rxbuff}}
\index{rxbuff@{rxbuff}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{rxbuff}{rxbuff}}
{\footnotesize\ttfamily uint8\+\_\+t rxbuff\mbox{[}20\mbox{]} = \{0\}}

\mbox{\Hypertarget{main_8c_ad8b193a4e03fa0a07562d49aa3615c28}\label{main_8c_ad8b193a4e03fa0a07562d49aa3615c28}} 
\index{main.c@{main.c}!rxBufferEmpty@{rxBufferEmpty}}
\index{rxBufferEmpty@{rxBufferEmpty}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{rxBufferEmpty}{rxBufferEmpty}}
{\footnotesize\ttfamily volatile bool rx\+Buffer\+Empty = true}

\mbox{\Hypertarget{main_8c_ae9df74e239fa2a8a0bc8face7012badd}\label{main_8c_ae9df74e239fa2a8a0bc8face7012badd}} 
\index{main.c@{main.c}!rxOnGoing@{rxOnGoing}}
\index{rxOnGoing@{rxOnGoing}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{rxOnGoing}{rxOnGoing}}
{\footnotesize\ttfamily volatile bool rx\+On\+Going = false}

\mbox{\Hypertarget{main_8c_adc1f3aa1a203f05abc53cb769ccf0744}\label{main_8c_adc1f3aa1a203f05abc53cb769ccf0744}} 
\index{main.c@{main.c}!txbuff@{txbuff}}
\index{txbuff@{txbuff}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{txbuff}{txbuff}}
{\footnotesize\ttfamily uint8\+\_\+t txbuff\mbox{[}$\,$\mbox{]} = \char`\"{}L\+P\+S\+CI polling example\textbackslash{}r\textbackslash{}n\+Send back received data\textbackslash{}r\textbackslash{}n\char`\"{}}

\mbox{\Hypertarget{main_8c_ace6ef749f5940517cc0931d92909f4f7}\label{main_8c_ace6ef749f5940517cc0931d92909f4f7}} 
\index{main.c@{main.c}!txBufferFull@{txBufferFull}}
\index{txBufferFull@{txBufferFull}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{txBufferFull}{txBufferFull}}
{\footnotesize\ttfamily volatile bool tx\+Buffer\+Full = false}

\mbox{\Hypertarget{main_8c_a1ec176ffd2054bb089d085f8e107848b}\label{main_8c_a1ec176ffd2054bb089d085f8e107848b}} 
\index{main.c@{main.c}!txOnGoing@{txOnGoing}}
\index{txOnGoing@{txOnGoing}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{txOnGoing}{txOnGoing}}
{\footnotesize\ttfamily volatile bool tx\+On\+Going = false}

\mbox{\Hypertarget{main_8c_ae9abb53057085267cb18c64610b95b6e}\label{main_8c_ae9abb53057085267cb18c64610b95b6e}} 
\index{main.c@{main.c}!xfer@{xfer}}
\index{xfer@{xfer}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{xfer}{xfer}}
{\footnotesize\ttfamily lpsci\+\_\+transfer\+\_\+t xfer}

